(self.AMP=self.AMP||[]).push({n:"amp-youtube",v:"1525461683159",f:(function(AMP){var h;function aa(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(b,d);f&&Object.defineProperty(a,d,f)}else a[d]=b[d]}function m(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var ba=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function p(a){var b=Object.create(null);if(!a)return b;for(var c;c=ba.exec(a);){var d=m(c[1],c[1]),f=c[2]?m(c[2],c[2]):"";b[d]=f}return b};var r="";var ca=Object.prototype.toString;function t(a){return"[object Object]"===ca.call(a)}function u(a){return"number"===typeof a&&isFinite(a)};self.log=self.log||{user:null,dev:null,userForEmbed:null};var v=self.log;function w(){if(!v.user)throw Error("failed to call initLogConstructor");return v.user}function x(){if(v.dev)return v.dev;throw Error("failed to call initLogConstructor");};function y(a){var b=Object.create(null);a&&Object.assign(b,a);return b}function z(a){return a||{}};function A(a){this.ha=a;this.w=Object.create(null)}A.prototype.get=function(a){if(this.w[a])return this.w[a].access=Date.now(),this.w[a].payload};A.prototype.put=function(a,b){var c=this;this.w[a]={payload:b,access:Date.now()};var d=Object.keys(this.w);d.length>this.ha&&(x().warn("lru-cache","Trimming template cache"),d.sort(function(a,b){return c.w[b].access-c.w[a].access}),delete this.w[d[d.length-1]])};function B(a,b){return b.length>a.length?!1:0==a.lastIndexOf(b,0)};z({c:!0,v:!0,a:!0,ad:!0});var C,D,da=["javascript:","data:","vbscript:"];
function ea(a){if(!a)return!0;if("string"==typeof a){C||(C=self.document.createElement("a"),D=self.UrlCache||(self.UrlCache=new A(100)));var b=D.get(a);if(b)a=b;else{b=C;b.href=a;b.protocol||(b.href=b.href);var c={href:b.href,protocol:b.protocol,host:b.host,hostname:b.hostname,port:"0"==b.port?"":b.port,pathname:b.pathname,search:b.search,hash:b.hash,origin:null};"/"!==c.pathname[0]&&(c.pathname="/"+c.pathname);if("http:"==c.protocol&&80==c.port||"https:"==c.protocol&&443==c.port)c.port="",c.host=
c.hostname;c.origin=b.origin&&"null"!=b.origin?b.origin:"data:"!=c.protocol&&c.host?c.protocol+"//"+c.host:c.href;D.put(a,c);a=c}}return!da.includes(a.protocol)};function fa(a){var b;try{return JSON.parse(a)}catch(c){b&&b(c)}};function ga(a){if(a.nodeType){var b=(a.ownerDocument||a).defaultView;if(b=b!=(b.__AMP_TOP||b)&&ha(b,"action")?E(b,"action"):null)return b}return F(a,"action")}function ia(a,b){var c=G(a),d=H(c);a=d;var f=I(a),e=f["video-manager"];e||(e=f["video-manager"]={obj:null,promise:null,resolve:null,context:null,ctor:null});e.ctor||e.obj||(e.ctor=b,e.context=c,e.resolve&&E(a,"video-manager"))}function J(a,b){a=a.__AMP_TOP||a;return E(a,b)}function F(a,b){a=G(a);a=H(a);return E(a,b)}
function G(a){return a.nodeType?J((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function H(a){a=G(a);return a.isSingleDoc()?a.win:a}function E(a,b){ha(a,b);var c=I(a);a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function ja(a){var b=ka(a);if(b)return b;var c,d=new Promise(function(a){c=a});I(a)["video-service"]={obj:null,promise:d,resolve:c,context:null,ctor:null};return d}
function ka(a){var b=I(a)["video-service"];if(b){if(b.promise)return b.promise;E(a,"video-service");return b.promise=Promise.resolve(b.obj)}return null}function I(a){var b=a.services;b||(b=a.services={});return b}function ha(a,b){a=a.services&&a.services[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function K(a){a.parentElement&&a.parentElement.removeChild(a)}function la(a){var b,c,d=b||function(a){return a},f=a.dataset;a={};var e=c?c:/^param(.+)/,g;for(g in f){var k=g.match(e);if(k){var l=k[1][0].toLowerCase()+k[1].substr(1);a[d(l)]=f[g]}}return a};function ma(a){return a.ampExtendedElements?!!a.ampExtendedElements["amp-video-service"]:!1}function na(a){return oa(a).then(function(a){return w().assert(a,"Service %s was requested to be provided through %s, but %s is not loaded in the current page. To fix this problem load the JavaScript file for %s in this page.","video-service","amp-video-service","amp-video-service","amp-video-service")})}
function oa(a){var b=G(a),c=ka(H(a));return c?c:Promise.resolve().then(function(){return ma(b.win)?ja(H(a)):b.whenBodyAvailable().then(function(){return ma(b.win)?ja(H(a)):null})})};function L(a){return F(a,"viewport")};function pa(a){a:{var b;try{b=a.document.cookie}catch(k){b=""}if(a=b)for(a=a.split(";"),b=0;b<a.length;b++){var c=a[b].trim(),d=c.indexOf("="),f;if(f=-1!=d)f=c.substring(0,d).trim(),f="AMP_EXP"==m(f,void 0);if(f){a=c.substring(d+1).trim();a=m(a,a);break a}}a=null}var e=a,g=e?e.split(/\s*,\s*/g):[];a=Object.create(null);for(b=0;b<g.length;b++)0!=g[b].length&&("-"==g[b][0]?a[g[b].substr(1)]=!1:a[g[b]]=!0);return a};var M,qa="Webkit webkit Moz moz ms O o".split(" ");function N(a,b){for(var c in b){var d=a,f=b[c],e;e=d.style;var g=c;if(B(g,"--"))e=g;else{M||(M=y());var k=M[g];if(!k){k=g;if(void 0===e[g]){var l;l=g;l=l.charAt(0).toUpperCase()+l.slice(1);b:{for(var n=0;n<qa.length;n++){var q=qa[n]+l;if(void 0!==e[q]){l=q;break b}}l=""}void 0!==e[l]&&(k=l)}M[g]=k}e=k}e&&(d.style[e]=f)}};var O;function P(a,b,c){function d(a){try{return g(a)}catch(q){throw self.reportError(q),q;}}var f=void 0,e=a,g=c,k=ra(),l=!1;f&&(l=f.capture);e.addEventListener(b,d,k?f:l);return function(){e&&e.removeEventListener(b,d,k?f:l);d=e=g=null}}function ra(){if(void 0!==O)return O;O=!1;try{var a={get capture(){O=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return O};function Q(a,b,c){return P(a,b,c)}function sa(a,b){var c=b,d=P(a,"load",function(a){try{c(a)}finally{c=null,d()}});return d}function ta(a){var b,c,d=new Promise(function(b){c=sa(a,b)});d.then(c,c);b&&b(c);return d};function ua(){this.m=null}h=ua.prototype;h.add=function(a){var b=this;this.m||(this.m=[]);this.m.push(a);return function(){b.remove(a)}};h.remove=function(a){this.m&&(a=this.m.indexOf(a),-1<a&&this.m.splice(a,1))};h.removeAll=function(){this.m&&(this.m.length=0)};h.fire=function(a){if(this.m)for(var b=this.m,c=0;c<b.length;c++)(0,b[c])(a)};h.getHandlerCount=function(){return this.m?this.m.length:0};function va(a,b){var c=300;function d(d){g=null;e=a.setTimeout(f,c);b.apply(null,d)}function f(){e=0;g&&d(g)}var e=0,g=null;return function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];e?g=b:d(b)}};function R(a){this.P=wa(a.win,a)}function wa(a,b){var c=J(a,"extensions");a=G(b);return c.installExtensionForDoc(a,"amp-video-service").then(function(){return na(b)})}R.prototype.register=function(a,b){b=void 0===b?!0:b;this.P.then(function(b){return b.register(a)})};R.prototype.delegateAutoplay=function(a,b){var c=b=void 0===b?null:b;this.P.then(function(b){return b.delegateAutoplay(a,c)})};R.prototype.getAnalyticsDetails=function(a){return this.P.then(function(b){return b.getAnalyticsDetails(a)})};function S(){this.K=!1;this.$=new ua}S.prototype.onSessionEnd=function(a){this.$.add(a)};S.prototype.beginSession=function(){this.K=!0};S.prototype.endSession=function(){this.K&&this.$.fire();this.K=!1};S.prototype.isSessionActive=function(){return this.K};function T(a){var b=!1,c=null;return function(d){for(var f=[],e=0;e<arguments.length;++e)f[e-0]=arguments[e];b||(c=a.apply(self,f),b=!0,a=null);return c}};function xa(a,b){if(b)return Promise.resolve(!1);var c=a.document.createElement("video");c.setAttribute("muted","");c.setAttribute("playsinline","");c.setAttribute("webkit-playsinline","");c.setAttribute("height","0");c.setAttribute("width","0");c.muted=!0;c.playsinline=!0;c.webkitPlaysinline=!0;N(c,{position:"fixed",top:"0",width:"0",height:"0",opacity:"0"});(new Promise(function(){return c.play()})).catch(function(){});return Promise.resolve(!c.paused)}var U=null;var ya={title:"",artist:"",album:"",artwork:[{src:""}]};function za(a,b,c,d){var f=a.navigator;"mediaSession"in f&&a.MediaMetadata&&(f.mediaSession.metadata=new a.MediaMetadata(ya),Aa(b),f.mediaSession.metadata=new a.MediaMetadata(b),f.mediaSession.setActionHandler("play",c),f.mediaSession.setActionHandler("pause",d))}
function Ba(a){var b=a.querySelector('script[type="application/ld+json"]');if(b){var c=fa(b.textContent);if(c&&c.image){if("string"===typeof c.image)return c.image;if(c.image["@list"]&&"string"===typeof c.image["@list"][0])return c.image["@list"][0];if("string"===typeof c.image.url)return c.image.url;if("string"===typeof c.image[0])return c.image[0]}}}function Aa(a){a&&a.artwork&&(Array.isArray(a.artwork),a.artwork.forEach(function(a){if(a){var b=t(a)?a.src:a;w().assert(ea(b))}}))};function Ca(a){var b=this;this.ampdoc=a;this.ea=L(this.ampdoc);this.l=null;this.ca=!1;this.da=J(a.win,"timer");this.ga=ga(a);this.Z=function(){for(var a=0;a<b.l.length;a++){var d=b.l[a];if("paused"!==d.getPlayingState()){V(d,"video-seconds-played");var f,e=d.video.getCurrentTime(),g=d.video.getDuration();u(e)&&u(g)&&0<g&&(f=b.ampdoc.win,e={time:e,percent:e/g},g={detail:e},Object.assign(g,void 0),"function"==typeof f.CustomEvent?f=new f.CustomEvent("video-manager.timeUpdate",g):(f=f.document.createEvent("CustomEvent"),
f.initCustomEvent("video-manager.timeUpdate",!!g.bubbles,!!g.cancelable,e)),b.ga.trigger(d.video.element,"timeUpdate",f,1))}}b.da.delay(b.Z,1E3)};this.ia=T(function(){return new W(b.ampdoc)});this.da.delay(this.Z,1E3)}h=Ca.prototype;h.register=function(a){Da(a);a.supportsPlatform()&&(this.l=this.l||[],a=new Ea(this,a),Fa(this,a),this.l.push(a),a=a.video.element,a.dispatchCustomEvent("registered"),a.signals().signal("registered"),a.classList.add("i-amphtml-video-interface"))};
h.delegateAutoplay=function(a){var b=this;a.signals().whenSignal("registered").then(function(){b.F(a).delegateAutoplay()})};function Da(a){var b=a,c=null;b.registerAction("play",function(){return a.play(!1)},1);b.registerAction("pause",function(){return a.pause()},1);b.registerAction("mute",function(){return a.mute()},1);b.registerAction("unmute",function(){return a.unmute()},1);b.registerAction("fullscreen",function(){return a.fullscreenEnter()},1)}
function Fa(a,b){var c=b.video.element;Q(c,"amp:video:visibility",function(a){var c=a.data;c&&1==c.visible?b.updateVisibility(!0):b.updateVisibility()});Q(c,"reloaded",function(){b.videoLoaded()});if(!a.ca){var d=function(){for(var b=0;b<a.l.length;b++)a.l[b].updateVisibility()};a.ea.onScroll(d);a.ea.onChanged(d);a.ca=!0}}function Ga(a,b){for(var c=0;c<a.l.length;c++)if(a.l[c].video===b)return a.l[c];x().error("video-manager","video is not registered to this video manager");return null}
h.F=function(a){for(var b=0;b<this.l.length;b++){var c=this.l[b];if(c.video.element===a)return c}x().error("video-manager","video is not registered to this video manager");return null};h.getAnalyticsDetails=function(a){return(a=this.F(a))?a.getAnalyticsDetails():Promise.resolve()};h.getPlayingState=function(a){return Ga(this,a).getPlayingState()};h.userInteractedWithAutoPlay=function(a){return Ga(this,a).userInteractedWithAutoPlay()};h.registerForAutoFullscreen=function(a){this.ia().register(a)};
function Ea(a,b){var c=this;this.ka=a;this.j=a.ampdoc;this.video=b;this.Y=!0;this.A=this.B=this.aa=!1;this.O=new S;this.O.onSessionEnd(function(){return V(c,"video-session")});this.H=new S;this.H.onSessionEnd(function(){return V(c,"video-session-visible")});this.V=function(){var a=c.j.win,b=a||self;if(b.AMP_MODE)b=b.AMP_MODE;else{var e=p(b.location.originalHash||b.location.hash),g=p(b.location.search);r||(r=b.AMP_CONFIG&&b.AMP_CONFIG.v?b.AMP_CONFIG.v:"011525461683159");b=b.AMP_MODE={localDev:!1,
development:!("1"!=e.development&&!b.AMP_DEV_MODE),examiner:"2"==e.development,filter:e.filter,geoOverride:e["amp-geo"],minified:!0,lite:void 0!=g.amp_lite,test:!1,log:e.log,version:"1525461683159",rtvVersion:r}}b=b.lite;U||(U=T(xa));return U(a,b)};this.S=this.ba=this.M=!1;this.R=null;this.D=!1;this.hasAutoplay=b.element.hasAttribute("autoplay");this.C=ya;ta(b.element).then(function(){return c.videoLoaded()});Q(b.element,"pause",function(){V(c,"video-pause");c.B=!1;c.S?c.S=!1:c.O.endSession()});
Q(b.element,"playing",function(){return Ha(c)});Q(b.element,"muted",function(){return c.D=!0});Q(b.element,"unmuted",function(){return c.D=!1});Q(b.element,"ended",function(){V(c,"video-ended")});b.element.signals().whenSignal("registered").then(function(){var a=c.video.element;(c.video.preimplementsAutoFullscreen()||!a.hasAttribute("rotate-to-fullscreen")?0:w().assert(c.video.isInteractive(),"Only interactive videos are allowed to enter fullscreen on rotate.","Set the `controls` attribute on %s to enable.",
a))&&c.ka.registerForAutoFullscreen(c);c.updateVisibility();c.hasAutoplay&&Ia(c)})}h=Ea.prototype;h.delegateAutoplay=function(){this.Y=!1;this.B&&this.video.pause()};function Ha(a){a.B=!0;a.video.preimplementsMediaSessionAPI()||za(a.j.win,a.C,function(){a.video.play(!1)},function(){a.video.pause()});a.O.beginSession();a.A&&a.H.beginSession();V(a,"video-play")}
h.videoLoaded=function(){this.aa=!0;this.R=this.video.element.querySelector("video, iframe");if(!this.video.preimplementsMediaSessionAPI()){this.video.getMetadata()&&(this.C=y(this.video.getMetadata()));var a=this.j.win.document;if(!this.C.artwork||0==this.C.artwork.length){var b;(b=Ba(a))||(b=(b=a.querySelector('meta[property="og:image"]'))?b.getAttribute("content"):void 0);b||(b=(b=a.querySelector('link[rel="shortcut icon"]')||a.querySelector('link[rel="icon"]'))?b.getAttribute("href"):void 0);
b&&(this.C.artwork=[{src:b}])}!this.C.title&&(a=this.video.element.getAttribute("title")||this.video.element.getAttribute("aria-label")||this.R.getAttribute("title")||this.R.getAttribute("aria-label")||a.title)&&(this.C.title=a)}this.updateVisibility();this.A&&Ja(this)};
function Ja(a){F(a.j,"viewer").isVisible()&&a.V().then(function(b){var c=a.hasAutoplay&&!a.M;c&&b?a.Y&&(a.A?(a.H.beginSession(),a.video.play(!0),a.ba=!0):(a.B&&a.H.endSession(),a.video.pause(),a.S=!0)):a.A?a.H.beginSession():a.B&&a.H.endSession()})}function Ia(a){a.video.isInteractive()&&a.video.hideControls();a.V().then(function(b){!b&&a.video.isInteractive()?a.video.showControls():(a.video.mute(),a.video.isInteractive()&&Ka(a))})}
function Ka(a){function b(b){a.video.mutateElement(function(){e.classList.toggle("amp-video-eq-play",b)})}function c(){this.M=!0;this.video.showControls();this.video.unmute();k.forEach(function(a){a()});K(e);K(g)}function d(){N(g,{display:"none"})}function f(){N(g,{display:"block"})}a.video.hideControls();var e=La(a),g=Ma(a);a.video.mutateElement(function(){a.video.element.appendChild(e);a.video.element.appendChild(g)});var k=[];k.push(Q(g,"click",c.bind(a)));k.push(Q(e,"click",c.bind(a)));k.push(Q(a.video.element,
"pause",b.bind(a,!1)));k.push(Q(a.video.element,"playing",b.bind(a,!0)));k.push(Q(a.video.element,"ad_start",d.bind(a)));k.push(Q(a.video.element,"ad_end",f.bind(a)))}
function La(a){var b=a.j.win.document,c=b.createElement("i-amphtml-video-eq");c.classList.add("amp-video-eq");for(var d=1;4>=d;d++){var f=b.createElement("div");f.classList.add("amp-video-eq-col");for(var e=1;2>=e;e++){var g=b.createElement("div");g.classList.add("amp-video-eq-"+d+"-"+e);f.appendChild(g)}c.appendChild(f)}var k=J(a.j.win,"platform");k.isIos()&&c.setAttribute("unpausable","");return c}
function Ma(a){a=a.j.win.document.createElement("i-amphtml-video-mask");a.classList.add("i-amphtml-fill-content");return a}h.updateVisibility=function(a){var b=this,c=this.A;this.video.measureMutateElement(function(){if(1==a)b.A=!0;else{var c=b.video.element.getIntersectionChangeEntry(),f=u(c.intersectionRatio)?100*c.intersectionRatio:0;b.A=75<=f}},function(){b.A!=c&&(b.aa&&Ja(b),b.video.element.dispatchCustomEvent("amp:visibilitychanged"))})};
h.getPlayingState=function(){return this.B?this.B&&this.ba&&!this.M?"playing_auto":"playing_manual":"paused"};h.userInteractedWithAutoPlay=function(){return this.M};
h.getAnalyticsDetails=function(){var a=this,b=this.video;return this.V().then(function(c){var d=b.element.getLayoutBox(),f=d.width,d=d.height,e=a.hasAutoplay&&c,g=b.getPlayedRanges(),k=g.reduce(function(a,b){return a+b[1]-b[0]},0);return{autoplay:e,currentTime:b.getCurrentTime(),duration:b.getDuration(),height:d,id:b.element.id,muted:a.D,playedTotal:k,playedRangesJson:JSON.stringify(g),state:a.getPlayingState(),width:f}})};
function W(a){var b=this,c=a.win;this.j=a;this.la=0;this.fa=c;this.J=this.I=null;this.N=[];this.l={};this.ma=T(function(){return L(a).onScroll(va(b.j.win,function(){X(b.j.win)||Na(b)}))});Oa(this);Pa(this)}W.prototype.register=function(a){var b=this;if(Qa(this,a.video.element)){var c=this.la++,d=a.video.element;d.__AMP_AUTO_FULLSCREEN_ID__=c.toString();this.l[c.toString()]=a;Q(d,"amp:visibilitychanged",function(a){X(b.j.win)||Ra(b,a.target)});this.ma();Ra(this,d)}};
function Pa(a){function b(){a.I=null}var c=a.j.getRootNode();P(c,"webkitfullscreenchange",b);P(c,"mozfullscreenchange",b);P(c,"fullscreenchange",b);P(c,"MSFullscreenChange",b)}function Qa(a,b){var c=b.querySelector("video, iframe");if("video"==c.tagName.toLowerCase())return!0;a=J(a.j.win,"platform");return a.isIos()||a.isSafari()?"amp-dailymotion"==b.tagName.toLowerCase():!0}
function Oa(a){var b=a.j.win,c=b.screen;if(c&&"orientation"in c){var d=c.orientation;Q(d,"change",function(){return Sa(a)})}Q(b,"orientationchange",function(){return Sa(a)})}function Sa(a){X(a.j.win)?a.J&&Ta(a,a.F(a.J)):a.I&&Ua(a,a.I)}function Ta(a,b){var c=b.video;if("playing_manual"===b.getPlayingState()){var d=J(a.fa,"platform");a.I=b;d.isAndroid()&&d.isChrome()?c.fullscreenEnter():Va(a,c).then(function(){return c.fullscreenEnter()})}}
function Ua(a,b){a.I=null;var c=b.video;Va(a,c,"center").then(function(){return c.fullscreenExit()})}function Va(a,b,c){c=void 0===c?null:c;var d=b.element,f=L(a.j),e="ease-in";return Wa(a).then(function(){var a=d.getIntersectionChangeEntry().boundingClientRect,b=a,l=b.top,b=b.bottom,n=f.getSize().height,q=0<=l&&b<=n;if(q)return Promise.resolve();var $a=c?c:b>n?"bottom":"top";return f.animateScrollIntoView(d,300,e,$a)})}function Wa(a){var b=330;return J(a.fa,"timer").promise(b)}
function Ra(a,b){var c=b.getIntersectionChangeEntry(),d=.75<c.intersectionRatio,f=a.N.indexOf(b);d?(0>f&&a.N.push(b),Na(a)):0<=f&&a.N.splice(f,1)}function Na(a){a.J=null;a.N.map(function(a){return Object.assign({target:a},a.getIntersectionChangeEntry())}).sort(function(b,c){return Xa(a,b,c)}).forEach(function(b,c){.8<=b.intersectionRatio&&0==c&&(a.J=b.target)})}
function Xa(a,b,c){var d=a.F(b.target).getPlayingState(),f=a.F(c.target).getPlayingState();if("playing_manual"==d&&"playing_manual"!=f)return-1;if("playing_manual"!=d&&"playing_manual"==f)return 1;var e=.1,g=b.intersectionRatio-c.intersectionRatio;if(g<-e)return-1;if(g>e)return 1;a=L(a.j);var k=Ya(a,b.boundingClientRect),l=Ya(a,c.boundingClientRect);if(k<l)return-1;if(k>l)return 1;var n=b.boundingClientRect.top-c.boundingClientRect.top;return 0>n?-1:0<n?1:0}W.prototype.F=function(a){return this.l[a.__AMP_AUTO_FULLSCREEN_ID__]};
function Ya(a,b){var c=b.top+b.height/2,d=a.getSize().height/2;return Math.abs(c-d)}function X(a){return a.screen&&"orientation"in a.screen?B(a.screen.orientation.type,"landscape"):90==Math.abs(a.orientation)}function V(a,b){var c,d=a.video,f=c?Promise.resolve(c):a.getAnalyticsDetails();f.then(function(a){d.element.dispatchCustomEvent(b,a)})}
function Za(a){ia(a,function(a){var b;var d=a.win;if(d.__AMP__EXPERIMENT_TOGGLES)b=d.__AMP__EXPERIMENT_TOGGLES;else{d.__AMP__EXPERIMENT_TOGGLES=Object.create(null);b=d.__AMP__EXPERIMENT_TOGGLES;if(d.AMP_CONFIG)for(var f in d.AMP_CONFIG){var e=d.AMP_CONFIG[f];"number"===typeof e&&0<=e&&1>=e&&(b[f]=Math.random()<e)}if(d.AMP_CONFIG&&Array.isArray(d.AMP_CONFIG["allow-doc-opt-in"])&&0<d.AMP_CONFIG["allow-doc-opt-in"].length&&(f=d.AMP_CONFIG["allow-doc-opt-in"],e=d.document.head.querySelector('meta[name="amp-experiments-opt-in"]')))for(var e=
e.getAttribute("content").split(","),g=0;g<e.length;g++)-1!=f.indexOf(e[g])&&(b[e[g]]=!0);Object.assign(b,pa(d));if(d.AMP_CONFIG&&Array.isArray(d.AMP_CONFIG["allow-url-opt-in"])&&0<d.AMP_CONFIG["allow-url-opt-in"].length)for(f=d.AMP_CONFIG["allow-url-opt-in"],d=p(d.location.originalHash||d.location.hash),e=0;e<f.length;e++)g=d["e-"+f[e]],"1"==g&&(b[f[e]]=!0),"0"==g&&(b[f[e]]=!1)}return b["video-service"]?new R(a):new Ca(a)})};function Y(a){a=AMP.BaseElement.call(this,a)||this;a.o=null;a.L=null;a.D=!1;a.h=null;a.G=null;a.X=null;a.T=null;a.U=null;a.W=null;return a}aa(Y,AMP.BaseElement);h=Y.prototype;h.preconnectCallback=function(a){this.preconnect.url(ab(this));this.preconnect.url("https://s.ytimg.com",a);this.preconnect.url("https://i.ytimg.com",a)};h.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};h.renderOutsideViewport=function(){return.75};
h.viewportCallback=function(a){this.element.dispatchCustomEvent("amp:video:visibility",{visible:a})};h.buildCallback=function(){var a=this;this.o=this.element.getAttribute("data-videoid");this.L=this.element.getAttribute("data-live-channelid");bb(this);this.T=new Promise(function(b){a.U=b});!this.getPlaceholder()&&this.o&&cb(this);Za(this.element);F(this.element,"video-manager").register(this)};
function ab(a){if(a.X)return a.X;var b;bb(a);var c="";"omit"===(a.element.getAttribute("credentials")||"include")&&(c="-nocookie");c="https://www.youtube"+c+".com/embed/";b=a.o?encodeURIComponent(a.o||"")+"?":"live_stream?channel="+(encodeURIComponent(a.L||"")+"&");b=""+c+b+"enablejsapi=1";c=la(a.element);"autoplay"in c&&(delete c.autoplay,a.user().error("AMP-YOUTUBE","Use autoplay attribute instead of data-param-autoplay"));"playsinline"in c||(c.playsinline="1");var d=a.element.hasAttribute("autoplay");
d&&("iv_load_policy"in c||(c.iv_load_policy="3"),c.playsinline="1");var f=[],e;for(e in c){var g=c[e];if(null!=g)if(Array.isArray(g))for(var k=0;k<g.length;k++){var l=g[k];f.push(encodeURIComponent(e)+"="+encodeURIComponent(l))}else f.push(encodeURIComponent(e)+"="+encodeURIComponent(g))}if(e=f.join("&"))c=b.split("#",2),b=c[0].split("?",2),e=b[0]+(b[1]?"?"+b[1]+"&"+e:"?"+e),b=e+=c[1]?"#"+c[1]:"";return a.X=b}
h.layoutCallback=function(){var a=this,b=this.element.ownerDocument.createElement("iframe"),c=ab(this);b.setAttribute("frameborder","0");b.setAttribute("allowfullscreen","true");b.src=c;this.applyFillContent(b);this.h=b;this.W=Q(this.win,"message",this.ja.bind(this));this.element.appendChild(this.h);var d=this.loadPromise(this.h).then(function(){a.h&&a.h.contentWindow.postMessage(JSON.stringify(z({event:"listening"})),"*");a.element.dispatchCustomEvent("load")});this.U(d);return d};
h.unlayoutCallback=function(){var a=this;this.h&&(K(this.h),this.h=null);this.W&&this.W();this.T=new Promise(function(b){a.U=b});return!0};h.pauseCallback=function(){this.h&&this.h.contentWindow&&this.pause()};h.mutatedAttributesCallback=function(a){void 0!==a["data-videoid"]&&(this.o=this.element.getAttribute("data-videoid"),this.h&&Z(this,"loadVideoById",[this.o]))};
function bb(a){var b=!(a.o&&a.L)&&(a.o||a.L);w().assert(b,"Exactly one of data-videoid or data-live-channelid should be present for <amp-youtube> %s",a.element)}function Z(a,b,c){a.T.then(function(){if(a.h&&a.h.contentWindow){var d=JSON.stringify(z({event:"command",func:b,args:c||""}));a.h.contentWindow.postMessage(d,"*")}})}
h.ja=function(a){if("https://www.youtube.com"==a.origin&&a.source==this.h.contentWindow&&a.data&&(t(a.data)||B(a.data,"{"))&&(a=t(a.data)?a.data:fa(a.data),void 0!==a))if("infoDelivery"==a.event&&a.info&&void 0!==a.info.playerState){var b=a.info.playerState;2==b?this.element.dispatchCustomEvent("pause"):0==b?(this.element.dispatchCustomEvent("pause"),this.element.dispatchCustomEvent("ended")):1==b&&this.element.dispatchCustomEvent("playing")}else"infoDelivery"==a.event&&a.info&&void 0!==a.info.muted?
this.D!=a.info.muted&&(this.D=a.info.muted,this.element.dispatchCustomEvent(this.D?"muted":"unmuted")):"initialDelivery"==a.event&&a.info?this.G=a.info:"infoDelivery"==a.event&&a.info&&void 0!==a.info.currentTime&&(this.G.currentTime=a.info.currentTime)};
function cb(a){var b=a.element.ownerDocument.createElement("img"),c=a.o;N(b,{"object-fit":"cover",visibility:"hidden"});a.propagateAttributes(["aria-label"],b);b.src="https://i.ytimg.com/vi/"+encodeURIComponent(c)+"/sddefault.jpg#404_is_fine";b.setAttribute("placeholder","");b.setAttribute("referrerpolicy","origin");b.hasAttribute("aria-label")?b.setAttribute("alt","Loading video - "+b.getAttribute("aria-label")):b.setAttribute("alt","Loading video");a.applyFillContent(b);a.element.appendChild(b);
a.loadPromise(b).then(function(){if(120==b.naturalWidth&&90==b.naturalHeight)throw Error("sddefault.jpg is not found");}).catch(function(){b.src="https://i.ytimg.com/vi/"+encodeURIComponent(c)+"/hqdefault.jpg";return a.loadPromise(b)}).then(function(){a.getVsync().mutate(function(){N(b,{visibility:""})})})}h.supportsPlatform=function(){return!0};h.isInteractive=function(){return!0};h.play=function(){Z(this,"playVideo")};h.pause=function(){Z(this,"pauseVideo")};h.mute=function(){Z(this,"mute")};
h.unmute=function(){Z(this,"unMute")};h.showControls=function(){};h.hideControls=function(){};h.fullscreenEnter=function(){if(this.h){var a=this.h,b=a.requestFullscreen||a.requestFullScreen||a.webkitRequestFullscreen||a.webkitRequestFullScreen||a.webkitEnterFullscreen||a.webkitEnterFullScreen||a.msRequestFullscreen||a.msRequestFullScreen||a.mozRequestFullscreen||a.mozRequestFullScreen;b&&b.call(a)}};
h.fullscreenExit=function(){if(this.h){var a=this.h,b=a.cancelFullScreen||a.exitFullscreen||a.exitFullScreen||a.webkitExitFullscreen||a.webkitExitFullScreen||a.webkitCancelFullScreen||a.mozCancelFullScreen||a.msExitFullscreen;b?b.call(a):(a.ownerDocument&&(b=a.ownerDocument.cancelFullScreen||a.ownerDocument.exitFullscreen||a.ownerDocument.exitFullScreen||a.ownerDocument.webkitExitFullscreen||a.ownerDocument.webkitExitFullScreen||a.ownerDocument.webkitCancelFullScreen||a.ownerDocument.mozCancelFullScreen||
a.ownerDocument.msExitFullscreen),b&&b.call(a.ownerDocument))}};h.isFullscreen=function(){var a;this.h?(a=this.h,a=a.webkitDisplayingFullscreen?!0:a.ownerDocument&&(a.ownerDocument.fullscreenElement||a.ownerDocument.webkitFullscreenElement||a.ownerDocument.mozFullScreenElement||a.webkitCurrentFullScreenElement)==a?!0:!1):a=!1;return a};h.getMetadata=function(){};h.preimplementsMediaSessionAPI=function(){return!0};h.preimplementsAutoFullscreen=function(){return!1};
h.getCurrentTime=function(){return this.G?this.G.currentTime:0};h.getDuration=function(){return this.G?this.G.duration:1};h.getPlayedRanges=function(){return[]};(function(a){a.registerElement("amp-youtube",Y)})(self.AMP);
})});
//# sourceMappingURL=amp-youtube-0.1.js.map

